var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function o(){return Object.create(null)}function c(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let i;function s(t,n){return i||(i=document.createElement("a")),i.href=n,t===i.href}function u(t,n,e,o){if(t){const c=a(t,n,e,o);return t[0](c)}}function a(t,n,e,o){return t[1]&&o?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](o(n))):e.ctx}function f(t,n,e,o){if(t[2]&&o){const c=t[2](o(e));if(void 0===n.dirty)return c;if("object"==typeof c){const t=[],e=Math.max(n.dirty.length,c.length);for(let o=0;o<e;o+=1)t[o]=n.dirty[o]|c[o];return t}return n.dirty|c}return n.dirty}function d(t,n,e,o,c,r){if(c){const l=a(n,e,o,r);t.p(l,c)}}function m(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function p(t){const n="string"==typeof t&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return n?[parseFloat(n[1]),n[2]||"px"]:[t,"px"]}const h="undefined"!=typeof window;let g=h?()=>window.performance.now():()=>Date.now(),$=h?t=>requestAnimationFrame(t):t;const b=new Set;function y(t){b.forEach((n=>{n.c(t)||(b.delete(n),n.f())})),0!==b.size&&$(y)}function v(t){let n;return 0===b.size&&$(y),{promise:new Promise((e=>{b.add(n={c:t,f:e})})),abort(){b.delete(n)}}}function x(t,n){t.appendChild(n)}function k(t){if(!t)return document;const n=t.getRootNode?t.getRootNode():t.ownerDocument;return n&&n.host?n:t.ownerDocument}function w(t){const n=C("style");return function(t,n){x(t.head||t,n),n.sheet}(k(t),n),n.sheet}function _(t,n,e){t.insertBefore(n,e||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function C(t){return document.createElement(t)}function T(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function q(){return j(" ")}function N(){return j("")}function A(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function P(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function M(t,n){n=""+n,t.data!==n&&(t.data=n)}function O(t,n,e,o){null===e?t.style.removeProperty(n):t.style.setProperty(n,e,o?"important":"")}const S=new Map;let D,H=0;function I(t,n,e,o,c,r,l,i=0){const s=16.666/o;let u="{\n";for(let t=0;t<=1;t+=s){const o=n+(e-n)*r(t);u+=100*t+`%{${l(o,1-o)}}\n`}const a=u+`100% {${l(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(a)}_${i}`,d=k(t),{stylesheet:m,rules:p}=S.get(d)||function(t,n){const e={stylesheet:w(n),rules:{}};return S.set(t,e),e}(d,t);p[f]||(p[f]=!0,m.insertRule(`@keyframes ${f} ${a}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${o}ms linear ${c}ms 1 both`,H+=1,f}function K(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),c=e.length-o.length;c&&(t.style.animation=o.join(", "),H-=c,H||$((()=>{H||(S.forEach((t=>{const{ownerNode:n}=t.stylesheet;n&&E(n)})),S.clear())})))}function L(t){D=t}function F(){if(!D)throw new Error("Function called outside component initialization");return D}const R=[],G=[];let U=[];const z=[],B=Promise.resolve();let V=!1;function J(t){U.push(t)}const W=new Set;let Z,Q=0;function X(){if(0!==Q)return;const t=D;do{try{for(;Q<R.length;){const t=R[Q];Q++,L(t),Y(t.$$)}}catch(t){throw R.length=0,Q=0,t}for(L(null),R.length=0,Q=0;G.length;)G.pop()();for(let t=0;t<U.length;t+=1){const n=U[t];W.has(n)||(W.add(n),n())}U.length=0}while(R.length);for(;z.length;)z.pop()();V=!1,W.clear(),L(t)}function Y(t){if(null!==t.fragment){t.update(),c(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(J)}}function tt(){return Z||(Z=Promise.resolve(),Z.then((()=>{Z=null}))),Z}function nt(t,n,e){t.dispatchEvent(function(t,n,{bubbles:e=!1,cancelable:o=!1}={}){const c=document.createEvent("CustomEvent");return c.initCustomEvent(t,e,o,n),c}(`${n?"intro":"outro"}${e}`))}const et=new Set;let ot;function ct(){ot={r:0,c:[],p:ot}}function rt(){ot.r||c(ot.c),ot=ot.p}function lt(t,n){t&&t.i&&(et.delete(t),t.i(n))}function it(t,n,e,o){if(t&&t.o){if(et.has(t))return;et.add(t),ot.c.push((()=>{et.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}else o&&o()}const st={duration:0};function ut(e,o,c){const l={direction:"in"};let i,s,u=o(e,c,l),a=!1,f=0;function d(){i&&K(e,i)}function m(){const{delay:o=0,duration:c=300,easing:r=n,tick:l=t,css:m}=u||st;m&&(i=I(e,0,1,c,o,r,m,f++)),l(0,1);const p=g()+o,h=p+c;s&&s.abort(),a=!0,J((()=>nt(e,!0,"start"))),s=v((t=>{if(a){if(t>=h)return l(1,0),nt(e,!0,"end"),d(),a=!1;if(t>=p){const n=r((t-p)/c);l(n,1-n)}}return a}))}let p=!1;return{start(){p||(p=!0,K(e),r(u)?(u=u(l),tt().then(m)):m())},invalidate(){p=!1},end(){a&&(d(),a=!1)}}}function at(e,o,l){const i={direction:"out"};let s,u=o(e,l,i),a=!0;const f=ot;function d(){const{delay:o=0,duration:r=300,easing:l=n,tick:i=t,css:d}=u||st;d&&(s=I(e,1,0,r,o,l,d));const m=g()+o,p=m+r;J((()=>nt(e,!1,"start"))),v((t=>{if(a){if(t>=p)return i(0,1),nt(e,!1,"end"),--f.r||c(f.c),!1;if(t>=m){const n=l((t-m)/r);i(1-n,n)}}return a}))}return f.r+=1,r(u)?tt().then((()=>{u=u(i),d()})):d(),{end(t){t&&u.tick&&u.tick(1,0),a&&(s&&K(e,s),a=!1)}}}function ft(t,n){const e=n.token={};function o(t,o,c,r){if(n.token!==e)return;n.resolved=r;let l=n.ctx;void 0!==c&&(l=l.slice(),l[c]=r);const i=t&&(n.current=t)(l);let s=!1;n.block&&(n.blocks?n.blocks.forEach(((t,e)=>{e!==o&&t&&(ct(),it(t,1,1,(()=>{n.blocks[e]===t&&(n.blocks[e]=null)})),rt())})):n.block.d(1),i.c(),lt(i,1),i.m(n.mount(),n.anchor),s=!0),n.block=i,n.blocks&&(n.blocks[o]=i),s&&X()}if(!(c=t)||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof c.then){if(n.current!==n.then)return o(n.then,1,n.value,t),!0;n.resolved=t}else{const e=F();if(t.then((t=>{L(e),o(n.then,1,n.value,t),L(null)}),(t=>{if(L(e),o(n.catch,2,n.error,t),L(null),!n.hasCatch)throw t})),n.current!==n.pending)return o(n.pending,0),!0}var c}function dt(t,n,e){const o=n.slice(),{resolved:c}=t;t.current===t.then&&(o[t.value]=c),t.current===t.catch&&(o[t.error]=c),t.block.p(o,e)}function mt(t,n,o,l){const{fragment:i,after_update:s}=t.$$;i&&i.m(n,o),l||J((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):c(n),t.$$.on_mount=[]})),s.forEach(J)}function pt(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];U.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),U=n}(e.after_update),c(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function ht(t,n){-1===t.$$.dirty[0]&&(R.push(t),V||(V=!0,B.then(X)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function gt(n,e,r,l,i,s,u,a=[-1]){const f=D;L(n);const d=n.$$={fragment:null,ctx:[],props:s,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:o(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};u&&u(d.root);let m=!1;if(d.ctx=r?r(n,e.props||{},((t,e,...o)=>{const c=o.length?o[0]:e;return d.ctx&&i(d.ctx[t],d.ctx[t]=c)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](c),m&&ht(n,t)),e})):[],d.update(),m=!0,c(d.before_update),d.fragment=!!l&&l(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(E)}else d.fragment&&d.fragment.c();e.intro&&lt(n.$$.fragment),mt(n,e.target,e.anchor,e.customElement),X()}L(f)}class $t{$destroy(){pt(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function bt(t){const n=t-1;return n*n*n+1}function yt(t,{delay:e=0,duration:o=400,easing:c=n}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:c,css:t=>"opacity: "+t*r}}function vt(t,{delay:n=0,duration:e=400,easing:o=bt,x:c=0,y:r=0,opacity:l=0}={}){const i=getComputedStyle(t),s=+i.opacity,u="none"===i.transform?"":i.transform,a=s*(1-l),[f,d]=p(c),[m,h]=p(r);return{delay:n,duration:e,easing:o,css:(t,n)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*f}${d}, ${(1-t)*m}${h});\n\t\t\topacity: ${s-a*n}`}}const xt=t=>({}),kt=t=>({confirm:t[5]}),wt=t=>({}),_t=t=>({confirm:t[5]}),Et=t=>({}),Ct=t=>({confirm:t[5]}),Tt=t=>({}),jt=t=>({confirm:t[5]}),qt=t=>({}),Nt=t=>({confirm:t[5]});function At(t){let n,e,o,r,l,i,s,a,p,h,g,$,b,y,v,k,w,T,N;const S=t[7].title,D=u(S,t,t[6],jt),H=D||function(t){let n;return{c(){n=j("Are you sure you want to perform this action?")},m(t,e){_(t,n,e)},d(t){t&&E(n)}}}(),I=t[7].description,K=u(I,t,t[6],Ct),L=K||function(t){let n;return{c(){n=j("This action can't be undone!")},m(t,e){_(t,n,e)},d(t){t&&E(n)}}}(),F=t[7].cancel,R=u(F,t,t[6],_t),G=R||function(t){let n;return{c(){n=j(t[2])},m(t,e){_(t,n,e)},p(t,e){4&e&&M(n,t[2])},d(t){t&&E(n)}}}(t),U=t[7].confirm,z=u(U,t,t[6],kt),B=z||function(t){let n;return{c(){n=j(t[1])},m(t,e){_(t,n,e)},p(t,e){2&e&&M(n,t[1])},d(t){t&&E(n)}}}(t);return{c(){n=C("div"),r=q(),l=C("div"),i=C("div"),s=C("span"),H&&H.c(),a=q(),p=C("span"),L&&L.c(),h=q(),g=C("div"),$=C("button"),G&&G.c(),b=q(),y=C("button"),B&&B.c(),P(n,"class","overlay svelte-1rbwlp4"),P(s,"class","message-title svelte-1rbwlp4"),P(p,"class","message-description svelte-1rbwlp4"),P(i,"class","message-section"),P($,"class","cancel-button svelte-1rbwlp4"),O($,"--cancel-btn-color","hsl("+t[0]+", 40%, 50%)"),O($,"--cancel-btn-color-hover","hsl("+t[0]+", 40%, 55%)"),P(y,"class","confirm-button svelte-1rbwlp4"),O(y,"--confirm-btn-bg","hsl("+t[0]+", 40%, 50%)"),O(y,"--confirm-btn-bg-hover","hsl("+t[0]+", 40%, 55%)"),P(g,"class","actions svelte-1rbwlp4"),O(g,"background","hsl("+t[0]+", 30%, 97%)"),P(l,"class","confirm-dialog svelte-1rbwlp4")},m(e,o){_(e,n,o),_(e,r,o),_(e,l,o),x(l,i),x(i,s),H&&H.m(s,null),x(i,a),x(i,p),L&&L.m(p,null),x(l,h),x(l,g),x(g,$),G&&G.m($,null),x(g,b),x(g,y),B&&B.m(y,null),w=!0,T||(N=[A($,"click",t[8]),A(y,"click",t[4])],T=!0)},p(t,n){D&&D.p&&(!w||64&n)&&d(D,S,t,t[6],w?f(S,t[6],n,Tt):m(t[6]),jt),K&&K.p&&(!w||64&n)&&d(K,I,t,t[6],w?f(I,t[6],n,Et):m(t[6]),Ct),R?R.p&&(!w||64&n)&&d(R,F,t,t[6],w?f(F,t[6],n,wt):m(t[6]),_t):G&&G.p&&(!w||4&n)&&G.p(t,w?n:-1),(!w||1&n)&&O($,"--cancel-btn-color","hsl("+t[0]+", 40%, 50%)"),(!w||1&n)&&O($,"--cancel-btn-color-hover","hsl("+t[0]+", 40%, 55%)"),z?z.p&&(!w||64&n)&&d(z,U,t,t[6],w?f(U,t[6],n,xt):m(t[6]),kt):B&&B.p&&(!w||2&n)&&B.p(t,w?n:-1),(!w||1&n)&&O(y,"--confirm-btn-bg","hsl("+t[0]+", 40%, 50%)"),(!w||1&n)&&O(y,"--confirm-btn-bg-hover","hsl("+t[0]+", 40%, 55%)"),(!w||1&n)&&O(g,"background","hsl("+t[0]+", 30%, 97%)")},i(t){w||(J((()=>{w&&(o&&o.end(1),e=ut(n,yt,{duration:200}),e.start())})),lt(H,t),lt(L,t),lt(G,t),lt(B,t),J((()=>{w&&(k&&k.end(1),v=ut(l,vt,{y:-10,delay:200,duration:200}),v.start())})),w=!0)},o(t){e&&e.invalidate(),o=at(n,yt,{delay:200,duration:200}),it(H,t),it(L,t),it(G,t),it(B,t),v&&v.invalidate(),k=at(l,vt,{y:-10,duration:200}),w=!1},d(t){t&&E(n),t&&o&&o.end(),t&&E(r),t&&E(l),H&&H.d(t),L&&L.d(t),G&&G.d(t),B&&B.d(t),t&&k&&k.end(),T=!1,c(N)}}}function Pt(t){let n,e,o;const c=t[7].default,r=u(c,t,t[6],Nt);let l=t[3]&&At(t);return{c(){r&&r.c(),n=q(),l&&l.c(),e=N()},m(t,c){r&&r.m(t,c),_(t,n,c),l&&l.m(t,c),_(t,e,c),o=!0},p(t,[n]){r&&r.p&&(!o||64&n)&&d(r,c,t,t[6],o?f(c,t[6],n,qt):m(t[6]),Nt),t[3]?l?(l.p(t,n),8&n&&lt(l,1)):(l=At(t),l.c(),lt(l,1),l.m(e.parentNode,e)):l&&(ct(),it(l,1,1,(()=>{l=null})),rt())},i(t){o||(lt(r,t),lt(l),o=!0)},o(t){it(r,t),it(l),o=!1},d(t){r&&r.d(t),t&&E(n),l&&l.d(t),t&&E(e)}}}function Mt(t,n,e){let{$$slots:o={},$$scope:c}=n,{themeColor:r=200}=n,{confirmTitle:l="Confirm"}=n,{cancelTitle:i="Cancel"}=n,s=!1,u={func:null,args:null};return t.$$set=t=>{"themeColor"in t&&e(0,r=t.themeColor),"confirmTitle"in t&&e(1,l=t.confirmTitle),"cancelTitle"in t&&e(2,i=t.cancelTitle),"$$scope"in t&&e(6,c=t.$$scope)},[r,l,i,s,function(){e(3,s=!1),u.func(...u.args)},function(t,...n){u={func:t,args:n},e(3,s=!0)},c,o,()=>e(3,s=!1)]}class Ot extends $t{constructor(t){super(),gt(this,t,Mt,Pt,l,{themeColor:0,confirmTitle:1,cancelTitle:2})}}function St(t,n,e){const o=t.slice();return o[19]=n[e],o[21]=e,o}function Dt(n){return{c:t,m:t,p:t,d:t}}function Ht(t){let n,e,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Ft,then:Kt,catch:It,value:25};return ft(e=t[24].text(),o),{c(){n=N(),o.block.c()},m(t,e){_(t,n,e),o.block.m(t,o.anchor=e),o.mount=()=>n.parentNode,o.anchor=n},p(n,c){t=n,o.ctx=t,1&c&&e!==(e=t[24].text())&&ft(e,o)||dt(o,t,c)},d(t){t&&E(n),o.block.d(t),o.token=null,o=null}}}function It(n){return{c:t,m:t,p:t,d:t}}function Kt(t){let n,e,o,r,l,i;function u(){return t[9](t[21],t[19])}function a(){return t[10](t[21],t[19])}let f=t[2]===t[19]&&Lt(t);return{c(){n=C("div"),e=C("img"),r=q(),f&&f.c(),s(e.src,o="data:image/*;base64,"+t[25])||P(e,"src",o),P(e,"alt","example"),P(e,"class","svelte-qp39e6"),P(n,"class","image-container svelte-qp39e6")},m(t,o){_(t,n,o),x(n,e),x(n,r),f&&f.m(n,null),l||(i=[A(e,"mouseenter",u),A(e,"mouseleave",a)],l=!0)},p(c,r){t=c,1&r&&!s(e.src,o="data:image/*;base64,"+t[25])&&P(e,"src",o),t[2]===t[19]?f?f.p(t,r):(f=Lt(t),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},d(t){t&&E(n),f&&f.d(),l=!1,c(i)}}}function Lt(t){let n,e,o,c;function r(){return t[11](t[25],t[18],t[19])}return{c(){n=T("svg"),e=T("path"),P(e,"fill","hsl(200, 40%, 20%)"),P(e,"d","M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"),O(n,"width","24px"),O(n,"height","24px"),P(n,"viewBox","0 0 24 24"),P(n,"class","delete-icon delete delete-button-overlay button svelte-qp39e6")},m(t,l){_(t,n,l),x(n,e),o||(c=A(n,"click",r),o=!0)},p(n,e){t=n},d(t){t&&E(n),o=!1,c()}}}function Ft(n){return{c:t,m:t,p:t,d:t}}function Rt(t){let n;function e(t,n){return t[19].Metadata.Image?Ut:Gt}function o(t,n){return n===Ut?function(t){const n=t.slice(),e=n[19].Metadata.Image.Width;n[22]=e;const o=n[19].Metadata.Image.Height;return n[23]=o,n}(t):t}let c=e(t),r=c(o(t,c));return{c(){r.c(),n=N()},m(t,e){r.m(t,e),_(t,n,e)},p(t,l){c===(c=e(t))&&r?r.p(o(t,c),l):(r.d(1),r=c(o(t,c)),r&&(r.c(),r.m(n.parentNode,n)))},d(t){r.d(t),t&&E(n)}}}function Gt(n){let e;return{c(){e=C("div"),e.textContent="loading image...",P(e,"class","loading-placeholder svelte-qp39e6")},m(t,n){_(t,e,n)},p:t,d(t){t&&E(e)}}}function Ut(t){let n;return{c(){n=C("div"),P(n,"class","loading-placeholder svelte-qp39e6"),O(n,"aspect-ratio",t[22]+"/"+t[23])},m(t,e){_(t,n,e)},p(t,e){1&e&&O(n,"aspect-ratio",t[22]+"/"+t[23])},d(t){t&&E(n)}}}function zt(t){let n,e,o,c,r,l,i=t[19].Key+"",s={ctx:t,current:null,token:null,hasCatch:!1,pending:Rt,then:Ht,catch:Dt,value:24};return ft(e=fetch(`./api/object/${t[19].Key}`),s),{c(){n=C("figure"),s.block.c(),o=q(),c=C("figcaption"),r=j(i),l=q(),P(n,"class","svelte-qp39e6")},m(t,e){_(t,n,e),s.block.m(n,s.anchor=null),s.mount=()=>n,s.anchor=o,x(n,o),x(n,c),x(c,r),x(n,l)},p(n,o){t=n,s.ctx=t,1&o&&e!==(e=fetch(`./api/object/${t[19].Key}`))&&ft(e,s)||dt(s,t,o),1&o&&i!==(i=t[19].Key+"")&&M(r,i)},d(t){t&&E(n),s.block.d(),s.token=null,s=null}}}function Bt(t){let n,e,o;return{c(){n=C("h2"),n.textContent="No Images found in your bucket.",e=q(),o=C("h2"),o.textContent="Use the Upload button above to change that.",P(n,"class","svelte-qp39e6"),P(o,"class","svelte-qp39e6")},m(t,c){_(t,n,c),_(t,e,c),_(t,o,c)},d(t){t&&E(n),t&&E(e),t&&E(o)}}}function Vt(t){let n,e,o,r,l,i,s,u,a,f,d=t[0],m=[];for(let n=0;n<d.length;n+=1)m[n]=zt(St(t,d,n));let p=0===t[0].length&&Bt();return{c(){n=C("h1"),n.textContent="Photo Album",e=q(),o=C("div"),o.textContent="Upload an image",r=q(),l=C("div");for(let t=0;t<m.length;t+=1)m[t].c();i=q(),p&&p.c(),s=q(),u=C("input"),P(n,"class","svelte-qp39e6"),P(o,"class","button svelte-qp39e6"),P(l,"class","photos svelte-qp39e6"),O(u,"display","none"),P(u,"type","file"),P(u,"accept",".jpg, .jpeg, .png")},m(c,d){_(c,n,d),_(c,e,d),_(c,o,d),_(c,r,d),_(c,l,d);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(l,null);_(c,i,d),p&&p.m(c,d),_(c,s,d),_(c,u,d),t[13](u),a||(f=[A(o,"click",t[8]),A(u,"change",t[12])],a=!0)},p(t,n){if(262333&n){let e;for(d=t[0],e=0;e<d.length;e+=1){const o=St(t,d,e);m[e]?m[e].p(o,n):(m[e]=zt(o),m[e].c(),m[e].m(l,null))}for(;e<m.length;e+=1)m[e].d(1);m.length=d.length}0===t[0].length?p||(p=Bt(),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null)},d(d){d&&E(n),d&&E(e),d&&E(o),d&&E(r),d&&E(l),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(m,d),d&&E(i),p&&p.d(d),d&&E(s),d&&E(u),t[13](null),a=!1,c(f)}}}function Jt(n){let e;return{c(){e=j("Delete this image?")},m(t,n){_(t,e,n)},p:t,d(t){t&&E(e)}}}function Wt(t){let n;return{c(){n=j(t[4])},m(t,e){_(t,n,e)},p(t,e){16&e&&M(n,t[4])},d(t){t&&E(n)}}}function Zt(t){let n,e,o;return{c(){n=C("div"),e=C("img"),P(e,"class","image-thumbnail svelte-qp39e6"),s(e.src,o="data:image/*;base64,"+t[5])||P(e,"src",o),P(e,"alt","thumbnail")},m(t,o){_(t,n,o),x(n,e)},p(t,n){32&n&&!s(e.src,o="data:image/*;base64,"+t[5])&&P(e,"src",o)},d(t){t&&E(n)}}}function Qt(t){let n,e,o;function c(t,n){return t[4]?Wt:Jt}let r=c(t),l=r(t),i=t[5]&&Zt(t);return{c(){n=C("div"),e=C("div"),l.c(),o=q(),i&&i.c(),O(e,"margin-bottom","15px"),P(n,"slot","title"),O(n,"text-align","center")},m(t,c){_(t,n,c),x(n,e),l.m(e,null),x(n,o),i&&i.m(n,null)},p(t,o){r===(r=c(t))&&l?l.p(t,o):(l.d(1),l=r(t),l&&(l.c(),l.m(e,null))),t[5]?i?i.p(t,o):(i=Zt(t),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},d(t){t&&E(n),l.d(),i&&i.d()}}}function Xt(n){let e;return{c(){e=C("span"),P(e,"slot","description")},m(t,n){_(t,e,n)},p:t,d(t){t&&E(e)}}}function Yt(t){let n,e,o,c,r,l;return r=new Ot({props:{confirmTitle:"Delete",cancelTitle:"Cancel",$$slots:{description:[Xt,({confirm:t})=>({18:t}),({confirm:t})=>t?262144:0],title:[Qt,({confirm:t})=>({18:t}),({confirm:t})=>t?262144:0],default:[Vt,({confirm:t})=>({18:t}),({confirm:t})=>t?262144:0]},$$scope:{ctx:t}}}),{c(){var t;n=C("meta"),e=C("html"),o=q(),c=C("main"),(t=r.$$.fragment)&&t.c(),document.title="Epinio Minio Access Test App",P(n,"name","robots"),P(n,"content","noindex nofollow"),P(e,"lang","en"),P(c,"class","svelte-qp39e6")},m(t,i){x(document.head,n),x(document.head,e),_(t,o,i),_(t,c,i),mt(r,c,null),l=!0},p(t,[n]){const e={};67371071&n&&(e.$$scope={dirty:n,ctx:t}),r.$set(e)},i(t){l||(lt(r.$$.fragment,t),l=!0)},o(t){it(r.$$.fragment,t),l=!1},d(t){E(n),E(e),t&&E(o),t&&E(c),pt(r)}}}function tn(t,n,e){let o,c,r,l=[],i=["JPG","JPEG","GIF","PNG"],s=null,u={};const a=t=>i.some((n=>{const e=t.Key;let o=e.lastIndexOf(".");if(e.length<n.length||o<=0)return!1;let c=e.substr(o+1);return[n.toUpperCase(),n.toLowerCase()].includes(c)})),f=async()=>{const t=await fetch("./api/object"),{data:n}=await t.json();e(0,l=n.filter(a))};var d;d=f,F().$$.on_mount.push(d);const m=t=>{console.log(t.target);let n=t.target.files[0],e=new FileReader;e.readAsBinaryString(n),e.onload=async t=>{let e=`./api/object/${n.name}`,o=(c=t.target.result,btoa(c));var c;try{const t=await fetch(e,{method:"POST",body:o});await t.json();f()}catch(t){console.error("Error while posting image data: %o",t)}}},p=t=>async n=>{console.log(`deleteImage: ${t.Key}`);const e=`./api/object/${t.Key}`;await fetch(e,{method:"DELETE"}),f()};return[l,o,s,u,c,r,m,p,()=>{o.click()},(t,n)=>{let o=`k${t}`;try{clearTimeout(u[o])}catch(t){}e(2,s=n)},(t,n)=>{e(3,u[`k${t}`]=setTimeout((()=>{s===n&&e(2,s=null)}),3e3),u)},(t,n,o)=>{e(4,c="Delete this image?"),e(5,r=t),clearTimeout(u["k{index}"]),n(p(o))},t=>m(t),function(t){G[t?"unshift":"push"]((()=>{o=t,e(1,o)}))}]}return new class extends $t{constructor(t){super(),gt(this,t,tn,Yt,l,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
